// -- https://xemantic.github.io/shader-web-background/
const shaderWebBackground={};(()=>{'use strict';function q(a,c){if(!a)throw new shaderWebBackground.ConfigError(c);}function u(a){q(a instanceof HTMLCanvasElement,"config.canvas must be instance of canvas");return a}function w(){const a=document.createElement("canvas"),c=a.style;c.width="100vw";c.height="100vh";c.position="fixed";c.top="0";c.left="0";c.zIndex=-9999;document.body.appendChild(a);return a}function x(a){a.width=a.clientWidth;a.height=a.clientHeight}
function y(a,c,d){const b=new A(a,e=>new shaderWebBackground.GlError(e));let f=0,l=0,m=0;const k={R:(e,h)=>e.uniform2f(h,a.width,a.height),T:(e,h)=>e.uniform1f(h,l),F:(e,h)=>e.uniform1i(h,f),D:(e,h)=>e.uniform1f(h,m)},v=Object.keys(c),H=v.length-1,t=v.map((e,h)=>{{var g=c[e];var n=b.a;var r=B(b,e,n.VERTEX_SHADER,"attribute vec2 V;void main(){gl_Position=vec4(V,0,1);}");g=B(b,e,n.FRAGMENT_SHADER,g);const p=n.createProgram();n.attachShader(p,r);n.attachShader(p,g);n.linkProgram(p);n=p}r=Object.assign(k,
d[e]&&d[e].uniforms);g=null;h<H&&(g=new C(b.a,b.c),b.buffers[e]=g);return e=new D(b.a,e,n,r,g,b.buffers)});a.width=0;a.height=0;const z=()=>{l=performance.now()/1E3;if(a.width!==a.clientWidth||a.height!==a.clientHeight)x(a),b.a.viewport(0,0,b.b.width,b.b.height),m=Math.min(a.width,a.height),f=0,t.forEach(e=>{if(e.a){e=e.a;var h=a.width,g=a.height;e.b&&e.c.deleteTexture(e.b);e.a&&e.c.deleteTexture(e.a);e.b=E(e,h,g);e.a=E(e,h,g)}});t.forEach(e=>F(e,()=>{{var h=e.h;const g=b.a;g.bindBuffer(g.ARRAY_BUFFER,
b.g);g.enableVertexAttribArray(h);g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0);g.drawArrays(g.TRIANGLE_STRIP,0,4);g.disableVertexAttribArray(h);g.bindBuffer(g.ARRAY_BUFFER,null)}}));f++;t.forEach(e=>{if(e.a){{e=e.a;const h=e.a;e.a=e.b;e.b=h}}});requestAnimationFrame(z)};z()}
function G(a){a=a||{};const c=a.canvas?u(a.canvas):w();var d=document.head.querySelectorAll("script[type='x-shader/x-fragment']");q(0<d.length,'At least one <script type="x-shader/x-fragment"> required in document head');d.forEach(b=>q(b.id,"Each shader <script> needs unique id attribute"));d=Array.from(d).reduce((b,f)=>{b[f.id]=f.text.trim();return b},{});try{y(c,d,a.shaders||{})}catch(b){if(a.fallback)console.log("Could not load shaders, adding fallback class to canvas"+b),c.classList.add("fallback");
else throw b;}}shaderWebBackground.ConfigError=class extends Error{constructor(a){super(a);this.name="shaderWebBackground.ConfigError"}};shaderWebBackground.GlError=class extends Error{constructor(a){super(a);this.name="shaderWebBackground.GlError"}};shaderWebBackground.shade=G;shaderWebBackground.shadeOnLoad=function(a){window.addEventListener("load",()=>G(a))};const I=[-1,1,1,1,-1,-1,1,-1];function J(a,c){return a.f(a.a.getExtension(c),c+" extension is not supported")}class K{constructor(a,c){this.a=a;this.f=c}b(){}}class L extends K{constructor(a,c){super(a,c);this.c=J(this,"OES_texture_half_float");J(this,"OES_texture_half_float_linear")}b(a,c){const d=this.a;d.texImage2D(d.TEXTURE_2D,0,d.RGBA,a,c,0,d.RGBA,this.c.HALF_FLOAT_OES,null)}}
class M extends K{constructor(a,c){super(a,c);J(this,"EXT_color_buffer_float")}b(a,c){const d=this.a;d.texImage2D(d.TEXTURE_2D,0,d.RGBA16F,a,c,0,d.RGBA,d.FLOAT,null)}}function B(a,c,d,b){const f=a.a;d=f.createShader(d);f.shaderSource(d,b);f.compileShader(d);if(!f.getShaderParameter(d,f.COMPILE_STATUS)){const l=String(f.getShaderInfoLog(d));f.deleteShader(d);c="Cannot compile shader - "+c+": "+l;console.log(c+"\n"+b);throw a.f(c);}return d}
class A{constructor(a,c){var d={antialias:!1,depth:!1,alpha:!1};this.b=a;this.f=c;var b=(f,l)=>{if(!f)throw c(l);return f};this.a=a=b(a.getContext("webgl",d)||a.getContext("webgl",d),"webgl context not supported on supplied canvas element: "+a);this.c=a instanceof WebGL2RenderingContext?new M(a,b):new L(a,b);b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b);a.bufferData(a.ARRAY_BUFFER,new Float32Array(I),a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,null);this.g=b;this.buffers={}}}
function F(a,c){const d=a.c;d.useProgram(a.g);for(var b in a.uniforms){var f=a.uniforms[b];f.i(d,f.location,a.f)}a.a?(b=a.a,f=b.c,f.bindFramebuffer(f.FRAMEBUFFER,b.g),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,b.a,0),c(),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),f.bindFramebuffer(f.FRAMEBUFFER,null)):c();for(c=0;c<a.b;c++)d.activeTexture(d.TEXTURE0+c),d.bindTexture(d.TEXTURE_2D,null);a.b=0}
class D{constructor(a,c,d,b,f,l){this.c=a;this.id=c;this.g=d;this.h=a.getAttribLocation(d,"V");this.uniforms={};for(const m in b)(c=this.c.getUniformLocation(d,m))&&(this.uniforms[m]={location:c,i:b[m]});this.a=f;this.b=0;this.f={buffers:l,texture:(m,k)=>{k=k instanceof C?k===this.a?k.b:k.a:k;a.activeTexture(a.TEXTURE0+this.b);a.bindTexture(a.TEXTURE_2D,k);a.uniform1i(m,this.b++)}}}}
function E(a,c,d){const b=a.c,f=b.createTexture();b.bindTexture(b.TEXTURE_2D,f);a.f.b(c,d);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.bindTexture(b.TEXTURE_2D,null);return f}class C{constructor(a,c){this.g=a.createFramebuffer();this.c=a;this.f=c;this.a=this.b=null}};})()
//# sourceMappingURL=shader-web-background.min.js.map
